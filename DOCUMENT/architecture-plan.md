graph TD
    A[Telegram –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] -->|1. –ö–æ–º–∞–Ω–¥–∞ /start –∏–ª–∏ –Ω–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏| B(Telegram API)
    B -->|2. –í—Ö–æ–¥—è—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ| C[NewsMemeBot (aiogram)]
    C --> D{–¢–∏–ø –∑–∞–ø—Ä–æ—Å–∞?}
    D -->|–ù–æ–≤–æ—Å—Ç–∏| E[–ü–∞—Ä—Å–µ—Ä –Ω–æ–≤–æ—Å—Ç–µ–π]
    D -->|–ú–µ–º| F[–°–ª—É—á–∞–π–Ω—ã–π –º–µ–º –∏–∑ MEME_URLS]
    D -->|–ò–≥—Ä–∞| G[–ò–≥—Ä–æ–≤–æ–π –¥–≤–∏–∂–æ–∫ (—É–≥–∞–¥–∞–π —á–∏—Å–ª–æ)]
    D -->|Habr| H[–ü–∞—Ä—Å–µ—Ä Habr]
    D -->|–ü–æ–º–æ—â—å/–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞| I[–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –º–æ–¥—É–ª–∏]

    E --> E1[Lenta.ru]
    E --> E2[Meduza.io]
    E --> E3[BBC News]
    E --> E4[Reuters*]
    E --> E5[RIA*]

    H --> H1[–ü–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞—Ç—å—è]
    H --> H2[–¢–æ–ø-3 —Å—Ç–∞—Ç—å–∏]

    C -->|3. –û—Ç–≤–µ—Ç| B
    B -->|4. –°–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏/–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º| A

    style C fill:#4CAF50,stroke:#388E3C,color:white
    style E fill:#2196F3,stroke:#0D47A1,color:white
    style H fill:#2196F3,stroke:#0D47A1,color:white
    style F fill:#FF9800,stroke:#E65100,color:white
    style G fill:#9C27B0,stroke:#4A148C,color:white
2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (UI)
Telegram-–∫–ª–∏–µ–Ω—Ç (–º–æ–±–∏–ª—å–Ω—ã–π/–¥–µ—Å–∫—Ç–æ–ø–Ω—ã–π)
–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å inline-–∫–Ω–æ–ø–∫–∞–º–∏
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ MarkdownV2 –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, —Å—Å—ã–ª–∫–∏)
2. Telegram-—à–ª—é–∑
Telegram Bot API ‚Äî –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram
Webhook –∏–ª–∏ Long Polling (–≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ‚Äî polling —á–µ—Ä–µ–∑ aiogram)
3. –Ø–¥—Ä–æ –±–æ—Ç–∞ (NewsMemeBot)
–§—Ä–µ–π–º–≤–æ—Ä–∫: aiogram 3.x (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:
handlers.py ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ callback-–∑–∞–ø—Ä–æ—Å–æ–≤
parsers.py ‚Äî –º–æ–¥—É–ª—å –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤–Ω–µ—à–Ω–∏—Ö —Å–∞–π—Ç–æ–≤
utils.py ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (escape_markdown_v2, –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
game_engine.py ‚Äî –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã ¬´–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ¬ª
config.py ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ç–æ–∫–µ–Ω, OWNER_ID)
4. –ú–æ–¥—É–ª—å –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π
–ü–∞—Ä—Å–µ—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ requests + BeautifulSoup
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:
lenta.ru ‚Äî —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ –Ω–æ–≤–æ—Å—Ç–∏
meduza.io ‚Äî –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∏–∫–∞
bbc.com ‚Äî –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
habr.com ‚Äî IT-—Å—Ç–∞—Ç—å–∏
–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Äî –¥–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–∞–π—Ç—ã –∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞
5. –†–∞–∑–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
–°–ª—É—á–∞–π–Ω—ã–µ –º–µ–º—ã ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫ URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (Imgur)
–ò–≥—Ä–∞ ¬´–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ¬ª ‚Äî stateless-–ª–æ–≥–∏–∫–∞ —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø–∞–º—è—Ç–∏ (user_games = {})
6. –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
–û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å (RAM) ‚Äî –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:
–°–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä (user_games)
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (game_stats)
‚ö†Ô∏è –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –∏–ª–∏ SQLite. 
7. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π logging ‚Äî –∑–∞–ø–∏—Å—å –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞, –∏—Å–∫–ª—é—á–µ–Ω–∏–π
–£—Ä–æ–≤–µ–Ω—å: INFO –∏ ERROR
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Sentry –∏–ª–∏ Telegram-–∞–ª–µ—Ä—Ç–∞–º (–≤ –±—É–¥—É—â–µ–º)
üí° –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:
–ü—Ä–æ—Å—Ç–æ—Ç–∞ ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –≤—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ (–¥–ª—è —Å—Ç–∞—Ä—Ç–∞).
–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏–∏.
–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞, fallback-—Ä–µ–∂–∏–º –±–µ–∑ Markdown.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–æ–∫—É—Å ‚Äî –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫, –≤–∏–∑—É–∞–ª—å–Ω–æ –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç.
–≠—Ç–æ—Ç –ø–ª–∞–Ω –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ—Å–Ω–æ–≤—É –¥–ª—è:

—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏,
—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –∫–æ–¥–∞ –≤ –º–æ–¥—É–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É,
–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–µ –∏–ª–∏ –∑–∞–∫–∞–∑—á–∏–∫—É.